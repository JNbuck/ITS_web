<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>ITS-智能交通管理系统</title>
    <style type="text/css">
      html{height:100%}
      body{height:100%;margin:0px;padding:0px}
      #container{height:100%}
    </style>
    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/css/dashboard.css" rel="stylesheet"/>
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=1.0&&type=webgl&ak=AuSYL3k2mobHiyXwVy4NqxGd6CD7WdnO"></script>
    <script type="text/javascript" src="/js/jquery-3.2.1.slim.min.js"></script>

  </head>
  <body>
    <!-- 顶部导航栏 -->
    <div th:insert="~{/commons/commons :: topbar}"></div>
    <script>
      $(function (){
        $("#searchBU").attr("disabled","disabled");
      });
    </script>
    <div class="container-fluid">
      <div class="row">
        <!--  侧边栏   -->
        <div th:insert="~{/commons/commons :: sidebar(active='dashboard.html')}"></div>
        <!--  内容区  -->
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h1 class="h2" th:align="center">流量监控</h1>
            <div class="btn-toolbar mb-2 mb-md-0">
              <div class="btn-group me-2">
                <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
                <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
              </div>
              <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
                <span data-feather="calendar"></span>
                This week
              </button>
            </div>

          </div>
          <!--    地图    -->
          <div class="container-fluid">
            <div class="row div-height" style="height:800px;">
              <div id="container"  class="col-md-10 col-xs-14 col-sm-10"></div>
              <script type="text/javascript">
                var map = new BMapGL.Map("container");
                // 调用地图样式
                // map.setMapStyleV2({
                //   styleId: '8e0ff729ecf632d7c9638346c016bec0'
                // });
                // 创建地图实例
                var point = new BMapGL.Point(113.404678,23.047975);
                // 创建点坐标
                map.centerAndZoom(point, 20);
                // 初始化地图，设置中心点坐标和地图级别
                map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
                map.setHeading(64.5);   //设置地图旋转角度
                map.setTilt(73);       //设置地图的倾斜角度

                var scaleCtrl = new BMapGL.ScaleControl();  // 添加比例尺控件
                map.addControl(scaleCtrl);
                var zoomCtrl = new BMapGL.ZoomControl();  // 添加缩放控件
                map.addControl(zoomCtrl);
                var cityCtrl = new BMapGL.CityListControl();  // 添加城市列表控件
                map.addControl(cityCtrl);


                var point_1 = new BMapGL.Point(113.404678,23.047975);
                var point_2 = new BMapGL.Point(113.404395,23.048049);
                var point_3 = new BMapGL.Point(113.40439,23.04827);
                var point_4 = new BMapGL.Point(113.404732,23.048191);

                // var marker = new BMapGL.Marker(point);        // 创建标注
                // map.addOverlay(marker);                     // 将标注添加到地图中

                var trafficLightIcon = new BMapGL.Icon("trafficlight.png", new BMapGL.Size(60, 60), {
                  // 指定定位位置。
                  // 当标注显示在地图上时，其所指向的地理位置距离图标左上
                  // 角各偏移10像素和25像素。您可以看到在本例中该位置即是
                  // 图标中央下端的尖角位置。
                  anchor: new BMapGL.Size(10, 25),
                });
                // 创建标注对象并添加到地图
                var marker = new BMapGL.Marker(point_1, {icon: trafficLightIcon});
                map.addOverlay(marker);
                var marker = new BMapGL.Marker(point_2, {icon: trafficLightIcon});
                map.addOverlay(marker);
                var marker = new BMapGL.Marker(point_3, {icon: trafficLightIcon});
                map.addOverlay(marker);
                var marker = new BMapGL.Marker(point_4, {icon: trafficLightIcon});
                map.addOverlay(marker);

                var content = '10s';
                var label_1 = new BMapGL.Label(content, {       // 创建文本标注
                  position: point_1,
                  offset: new BMapGL.Size(30,-40)
                })
                label_1.setStyle({                              // 设置label的样式
                  color: '#ff0000',
                  fontSize: '10px',
                  border: '#000',
                  background: '#414142'
                })
                var label_2 = new BMapGL.Label(content, {       // 创建文本标注
                  position: point_2,
                  offset: new BMapGL.Size(30,-40)
                })
                label_2.setStyle({                              // 设置label的样式
                  color: '#ff0000',
                  fontSize: '10px',
                  border: '#000',
                  background: '#414142'
                })
                var label_3 = new BMapGL.Label(content, {       // 创建文本标注
                  position: point_3,
                  offset: new BMapGL.Size(30,-40)
                })
                label_3.setStyle({                              // 设置label的样式
                  color: '#ff0000',
                  fontSize: '10px',
                  border: '#000',
                  background: '#414142'
                })
                map.addOverlay(label_1);                        // 将标注添加到地图中
                map.addOverlay(label_2);                        // 将标注添加到地图中
                map.addOverlay(label_3);                        // 将标注添加到地图中



              </script>
              <div class="col-md-2 col-xs-4 col-sm-2"> 预留空白区域 </div>
            </div>
          </div>
        </main>
      </div>
    </div>
  </body>
  <!-- Bootstrap core JavaScript
       ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script type="text/javascript" src="/js/popper.min.js"></script>
  <script type="text/javascript" src="/js/bootstrap.min.js"></script>

  <!-- Icons -->
  <script type="text/javascript" src="/js/feather.min.js"></script>
  <script>
    feather.replace()
  </script>

  <!-- Graphs -->
  <script type="text/javascript" src="/js/Chart.min.js"></script>
  <script>
    var ctx = document.getElementById("myChart");
    var myChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        datasets: [{
          data: [15339, 21345, 18483, 24003, 23489, 24092, 12034],
          lineTension: 0,
          backgroundColor: 'transparent',
          borderColor: '#007bff',
          borderWidth: 4,
          pointBackgroundColor: '#007bff'
        }]
      },
      options: {
        scales: {
          yAxes: [{
            ticks: {
              beginAtZero: false
            }
          }]
        },
        legend: {
          display: false,
        }
      }
    });
  </script>
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  <style>
    .div-height{border: #fdfdfe; max-height: 900px}
  </style>

</html>
